# IEEE_gogo

> ## 摘要  
在現今有許多AGV的跟隨導引的方式，例如隨身攜帶發訊器，即可定位要跟蹤的目標，或是以讀取條碼的方式，控制AGV接下來的行為。純視覺的AGV跟隨導引方式有著對於不同環境下可以較好適應的特性或可以不必多帶發訊器等特徵讓AGV參考等優勢，因此在許多方面也有許多應用。但這也產生了許多的問題，例如場景在多人環境下，AGV就會因為有多個目標，而遭受干擾，並不能完全準確的確認要跟隨的目標，有可能會造成跟丟，甚至是跟錯的情況發生；還有在跟隨中因為使用者突然的大幅度轉彎，造成目標消失，使使用者需要再重新操作等劣勢。因此本文針對上述兩個問題提出了解決方法。我們利用yolov8作為基本的目標檢測方法，並利用Deep SORT 追蹤演算法，利用卡爾曼濾波來預測目標物未來的動向，並再次使用yolo驗證預測值是否為真。另外我們還利用了Re-ID神經網路提取目標的特徵，即可在擁有多重目標或當目標丟失再次出現時，可以透過對比每一個目標特徵確立真實目標為何。經由實驗後，我們發現透過提出之演算法，在視野內有多個目標時，AGV仍可穩定、不受干擾的跟隨指定的人;在目標消失在視野時，在一段時間內重新出現在視野內也可以精準的確定目標。

> ## 實驗驗證
- [ ] 實驗一、測試系統穩定度
- [ ] 實驗二、多目標干擾
- [ ] 實驗三、目標遮擋、消失
### 測試系統穩定度
藉由預先紀錄速度、角度、時間這三項數據，在低速情況下即可將其軌跡繪製出來。
```python 
for speed, angle, dt in zip(speeds, angles, timestamp):
        distance = speed * dt
        x += distance * np.cos(heading)
        y += distance * np.sin(heading)
        heading += np.radians(angle)
```
在將繪製出來的曲線平滑化，與原本的曲線相對比，求出兩者的方均根，即可大致評估此控制系統的穩定度
<img width="600" alt="image" src="https://github.com/109810022/IEEE_gogo/assets/100888502/c01cad77-e64d-46e5-91f3-97db4c1c2559">  
均方根差異為0.08118812589479811（越接近0越好）
### 多重目標干擾是否能穩定的跟到對的人
在啟動跟隨程式時，在途中出現不同的人，測試系統是否可以跟到對的人。
| 視野內人數 | 1 | 2 | 3 | 4 |
| --- | --- | --- | --- | --- | 
| 是否跟對人 | o | o | o | o | 

### 目標因大轉彎或遭遮擋，是否有能力可以再找回原本的人
藉由使用者大幅度轉彎，測試系統是否可以尋找並再次抓到對的人
| 是否有干擾/消失時間 | 10s | 15s|
| --- | --- | --- |  
| 有 | --- | --- |  
| 無 |  --- | --- | 

先遮擋鏡頭一段時間，再次讓使用者出現在視野內，測試是否可以準確的抓到使用者
| 是否有干擾/消失時間 | 10s | 30s | 50s |60s | 70s |
| --- | --- | --- | --- | --- | --- |
| 有 | o | o | o | x | x |
| 無 |  o | o | o | o | x | 
